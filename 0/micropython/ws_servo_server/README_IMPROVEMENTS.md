# ๐ **ุจูุจูุฏูุง ุงุนูุงู ุดุฏู ุฏุฑ ฺฉุฏ ูฺฉุฑููพุงุชูู v2.0**

## ๐ **ุฎูุงุตู ุชุบุฑุงุช**

ุงู ูุงู ุดุงูู ุชูุงู ุจูุจูุฏูุง ุงุนูุงู ุดุฏู ุฏุฑ ฺฉุฏ ูฺฉุฑููพุงุชูู ุจุฑุง ููุงููฺฏโุณุงุฒ ุจูุชุฑ ุจุง ุณุฑูุฑ ู ุจูุจูุฏ ุนููฺฉุฑุฏ ุงุณุช.

## ๐ง **ุจูุจูุฏูุง ุงุตู**

### **1. ุชูุธูุงุช ุซุงุจุช ู ุณุงุฏู**
- **ุชูฺฉู ุซุงุจุช**: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุชูฺฉู ุงุญุฑุงุฒ ููุช ุซุงุจุช
- **ุขุฏุฑุณ ุซุงุจุช**: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุขุฏุฑุณ WebSocket ุซุงุจุช
- **ุณุงุฏฺฏ**: ุญุฐู ูพฺุฏฺฏโูุง ูุฏุฑุช ุชูุธูุงุช

```python
# ุชูุธูุงุช ุซุงุจุช
WS_URL = "wss://smart-cctv-rash32.chbk.app/ws/pico"
AUTH_TOKEN = "rof642fr:5qEKU@A@Tv"
AUTH_HEADER = ("Authorization", f"Bearer {AUTH_TOKEN}")
```

### **2. ุจูุจูุฏ ฺฉูุงุณ ฺฉูุชุฑู ุณุฑูู**
- **ุญุฑฺฉุช ูุฑู**: ุญุฑฺฉุช ุชุฏุฑุฌ ุจุง ฺฏุงูโูุง ฺฉูฺฺฉโุชุฑ (2 ุฏุฑุฌู)
- **ูุฏุฑุช ูุถุนุช**: ุฑุฏุงุจ ูุถุนุช ุญุฑฺฉุช ู ุฒุงูู ูุฏู
- **ุชููู ุงุถุทุฑุงุฑ**: ุงูฺฉุงู ุชููู ููุฑ ุณุฑูู
- **ุงุนุชุจุงุฑุณูุฌ**: ุจุฑุฑุณ ุฒุงููโูุง ุงูู

```python
class ServoController:
    def __init__(self, pin_num, angle_file):
        self.moving = False
        self.target_angle = 90
        self.last_move_time = 0
    
    async def set_angle(self, current, target, immediate=False):
        # ุญุฑฺฉุช ูุฑู ุจุง ฺฏุงู 2 ุฏุฑุฌู
        step = 2 if target > current else -2
        step_delay = 0.025  # 25ms
```

### **3. ุจูุจูุฏ ูุฏุฑุช ุฎุทุง ู ุงุชุตุงู ูุฌุฏุฏ**
- **ูุฏุฑุช ุญุงูุธู**: ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ ุญุงูุธู
- **ุจุงุฒุงุจ ุฎุทุง**: ุชูุงุด ูุฌุฏุฏ ููุดููุฏ
- **ุซุจุช ูุงฺฏ ูพุดุฑูุชู**: ุซุจุช ุงุทูุงุนุงุช ฺฉุงูู ุฎุทุงูุง

### **4. ุจูุจูุฏ WebSocket Client**
- **ุงุชุตุงู ูพุงุฏุงุฑ**: ูุฏุฑุช ุจูุชุฑ ุงุชุตุงู ู ูุทุน ุงุชุตุงู
- **ping/pong ุจูุจูุฏ ุงูุชู**: ุงุฑุณุงู ุงุทูุงุนุงุช ุณุณุชู ุฏุฑ ping
- **ูุฏุฑุช ุญุงูุธู**: ุจุฑุฑุณ ู ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ ุญุงูุธู
- **ูพุงุณุฎฺฏู ุจูุชุฑ**: ฺฉุงูุด ุชุงุฎุฑ ุฏุฑ ูพุฑุฏุงุฒุด ูพุงูโูุง

```python
# ping ุจูุจูุฏ ุงูุชู
ping_message = {
    "type": "ping", 
    "timestamp": get_now_str(),
    "device": "pico",
    "memory_free": gc.mem_free()
}
```

### **5. ุจูุจูุฏ ูพุฑุฏุงุฒุด ุฏุณุชูุฑุงุช**
- **ุงุนุชุจุงุฑุณูุฌ**: ุจุฑุฑุณ ุฒุงููโูุง ุณุฑูู
- **ุงุฌุฑุง ููุฒูุงู**: ุญุฑฺฉุช ููุฒูุงู ุณุฑูููุง
- **ูุฏุฑุช ุฎุทุง**: ุชููู ุงุถุทุฑุงุฑ ุฏุฑ ุตูุฑุช ุฎุทุง
- **ูพุงุณุฎ ฺฉุงูู**: ุงุฑุณุงู ูุถุนุช ฺฉุงูู ุณุณุชู

```python
# ุงุฌุฑุง ููุฒูุงู ุณุฑูููุง
servo1_task = asyncio.create_task(servo1.set_angle(current_angle1, servo1_target))
servo2_task = asyncio.create_task(servo2.set_angle(current_angle2, servo2_target))
await asyncio.gather(servo1_task, servo2_task)
```

## ๐ **ุจูุจูุฏูุง ุนููฺฉุฑุฏ**

### **ูุฏุฑุช ุญุงูุธู**
- ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ ุญุงูุธู ูุฑ 20 ูพุงู
- ุจุฑุฑุณ ุญุงูุธู ูุฑ 30 ุซุงูู
- ูุญุฏูุฏ ฺฉุฑุฏู ุงูุฏุงุฒู ูุงู ูุงฺฏ

### **ฺฉูุชุฑู ุณุฑูู**
- ุญุฑฺฉุช ูุฑูโุชุฑ ุจุง ฺฏุงู 2 ุฏุฑุฌู
- ุชุงุฎุฑ 25ms ุจู ฺฏุงูโูุง
- ุฌููฺฏุฑ ุงุฒ ุฏุณุชูุฑุงุช ููุฒูุงู

### **ุงุชุตุงู ุดุจฺฉู**
- timeout ุจูุชุฑ ุจุฑุง WiFi (15 ุซุงูู)
- ูุฏุฑุช ุจูุชุฑ ุงุชุตุงู ูุฌุฏุฏ

## ๐ก๏ธ **ุงููุช ู ูพุงุฏุงุฑ**

### **ุงุญุฑุงุฒ ููุช**
- ุชูฺฉู ุซุงุจุช ู ุงูู
- ุจุฑุฑุณ ุงุนุชุจุงุฑ ุชูฺฉู

### **ูุฏุฑุช ุฎุทุง**
- ุซุจุช ฺฉุงูู ุฎุทุงูุง
- ุจุงุฒุงุจ ุฎูุฏฺฉุงุฑ
- ุชููู ุงุถุทุฑุงุฑ ุงูู

### **ูุธุงุฑุช ุณุณุชู**
- ุฑุฏุงุจ ูุถุนุช ุณุฑูููุง
- ูุงูุชูุฑูฺฏ ุญุงูุธู
- ูุงฺฏโฺฏุฑ ูพุดุฑูุชู

## ๐ **ูุญูู ุงุณุชูุงุฏู**

### **ุฑุงูโุงูุฏุงุฒ**
```bash
# ุขูพููุฏ ฺฉุฏ ุจู ูพฺฉู
# ุงุฌุฑุง ุฎูุฏฺฉุงุฑ
python main.py
```

### **ุชูุธูุงุช**
```python
# ุชุบุฑ ุชูฺฉู
AUTH_TOKENS = ["your_token_here"]

# ุชุบุฑ ุขุฏุฑุณ ุณุฑูุฑ
WS_URLS = ["ws://your_server:port/ws/pico"]
```

### **ูุงูุชูุฑูฺฏ**
```python
# ุฏุฑุงูุช ูุถุนุช ุณุณุชู
status = get_system_status()
print(status)
```

## ๐ **ูุชุงุฌ ุจูุจูุฏูุง**

- โ **ูพุงุฏุงุฑ ุจุดุชุฑ**: ฺฉุงูุด ุฎุทุงูุง ุงุชุตุงู
- โ **ุนููฺฉุฑุฏ ุจูุชุฑ**: ุญุฑฺฉุช ูุฑูโุชุฑ ุณุฑูููุง
- โ **ุงููุช ุจุงูุงุชุฑ**: ุชูฺฉู ุซุงุจุช ู ุงูู
- โ **ูุฏุฑุช ุจูุชุฑ**: ฺฉูุชุฑู ฺฉุงูู ูุถุนุช ุณุณุชู
- โ **ููุงููฺฏ ฺฉุงูู**: ุณุงุฒฺฏุงุฑ ฺฉุงูู ุจุง ุณุฑูุฑ
- โ **ุณุงุฏฺฏ**: ุญุฐู ูพฺุฏฺฏโูุง ุบุฑุถุฑูุฑ

## ๐จ **ูฺฉุงุช ููู**

1. **ุชูฺฉูโูุง**: ุงุทููุงู ุงุฒ ุตุญุช ุชูฺฉูโูุง ุงุญุฑุงุฒ ููุช
2. **ุขุฏุฑุณโูุง**: ุชูุธู ุขุฏุฑุณโูุง ุณุฑูุฑ ุตุญุญ
3. **ุญุงูุธู**: ูุธุงุฑุช ุจุฑ ูุตุฑู ุญุงูุธู
4. **ุฎุทุงูุง**: ุจุฑุฑุณ ูุงฺฏโูุง ุฎุทุง

## ๐ฎ **ุชูุณุนูโูุง ุขูุฏู**

- [ ] ูพุดุชุจุงู ุงุฒ SSL/TLS
- [ ] ูุดุฑุฏูโุณุงุฒ ุฏุงุฏูโูุง
- [ ] ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ
- [ ] ูพุดุชุจุงู ุงุฒ ุณูุณูุฑูุง ุจุดุชุฑ

---

**ูุณุฎู**: 2.0  
**ุชุงุฑุฎ**: 1404-05-22  
**ูุถุนุช**: ูุนุงู ู ูพุงุฏุงุฑ 