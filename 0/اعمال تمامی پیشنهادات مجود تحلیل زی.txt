

اضافه کردن فیلد ایمیل به فرم ثبت‌نام و جدول کاربران
چک کردن وجود ایمیل کاربر هنگام ثبت‌نام و ورود با گوگل (merge حساب‌ها)
تحلیل و پیاده‌سازی دقیق و اصولی برای جلوگیری از مشکلات پنهان
۱. اضافه کردن فیلد ایمیل به ثبت‌نام و جدول کاربران
الف) فرانت‌اند (login.html):
فیلد ایمیل را به فرم ثبت‌نام اضافه می‌کنیم.
اعتبارسنجی ایمیل سمت کلاینت انجام می‌شود.
ب) بک‌اند (server_fastapi.py):
مدل Pydantic ثبت‌نام را به‌روزرسانی می‌کنیم تا ایمیل را بگیرد.
در ثبت‌نام، ایمیل را ذخیره می‌کنیم.
اگر جدول users فیلد ایمیل ندارد، با migration اضافه می‌کنیم.

 چک کردن وجود ایمیل کاربر (merge حساب‌ها)
هنگام ثبت‌نام، اگر ایمیل قبلاً وجود داشت، خطا برگردانده شود.
هنگام ورود با گوگل، اگر ایمیل در دیتابیس وجود داشت، همان کاربر لاگین شود (حتی اگر username متفاوت باشد).
اگر ایمیل وجود نداشت، کاربر جدید ساخته شود.

تحلیل و رفع مشکلات پنهان
مشکلات احتمالی:
ایمیل تکراری: اگر کاربر با رمز و بعداً با گوگل ثبت‌نام کند، دو حساب جدا نسازد.
عدم وجود ایمیل: اگر کاربر با شماره ثبت‌نام کرده و ایمیل ندارد، باید ایمیل را بعداً اضافه کند یا هنگام ورود با گوگل merge شود.
ناقص بودن اطلاعات: اگر کاربر با گوگل ثبت‌نام کند و اطلاعاتی مثل شماره موبایل نداشته باشد، باید بعداً تکمیل کند.
امنیت: جلوگیری از حملات ثبت‌نام تکراری، تزریق SQL، و اعتبارسنجی ایمیل.







اعلانات نیز تغییر کند و مناسب تر شود .(برای کاربران موجود)





لاگ های بحرانی و خطرناک و تست نیز حذف شود.






چک مجدد اعمال موارد زیر بطور دقیق و حرفه ای و بدون خطا و اختلال و ناهماهنگی، در کد سرور، برای تکمیل امنیت :





requirements.txt   کامل است؟





HTTP Layer: مستقیماً HTTP endpoint را تست کند.
Server Integration: مستقیماً با سرور FastAPI ارتباط برقرار  کند.





تست نفوذ   

   دوربین و پیکو چندکاربره(هرکاربر با لاکین به سیستم، به استریم دوربین و پیکو برای کنترل سروو خود دسترسی داشته باشد!)   

   تست کامل سیستم لاگین





هیچ کدام از فریم ها نباید از دست بروند

همچنین 24 ساعته با بخش بندی یک ساعته باشد ذخیره گردد و بعد از یک هفته، اخرین ویدیو قدیمی حذف گردد.

انالیز دقیق برای بهبود سیستم کد سرور و دوربین

