# ุฑุงูููุง ุนุจโุงุจ ุณุณุชู ูุงฺฏู ูพุดุฑูุชู

## ๐จ ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง

### 1. ุฎุทุง Pydantic: `regex` is removed. use `pattern` instead

**ูุดฺฉู:**
```
pydantic.errors.PydanticUserError: `regex` is removed. use `pattern` instead
```

**ุฑุงูโุญู:**
- โ ุงู ูุดฺฉู ุฏุฑ ูุณุฎู ุฌุฏุฏ Pydantic ุฑุฎ ูโุฏูุฏ
- โ ุฏุฑ ฺฉุฏ ุจูโุฑูุฒุฑุณุงู ุดุฏูุ `regex` ุจู `pattern` ุชุบุฑ ุงูุชู ุงุณุช
- โ ุงฺฏุฑ ูููุฒ ุงู ุฎุทุง ุฑุง ูโุจูุฏุ ูุงู `server_fastapi.py` ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ

### 2. ุฎุทุง Import: No module named 'pyotp'

**ูุดฺฉู:**
```
ModuleNotFoundError: No module named 'pyotp'
```

**ุฑุงูโุญู:**
```bash
# ูุตุจ ูุงุจุณุชฺฏโูุง
pip install -r requirements.txt

# ุง ูุตุจ ุฏุณุช
pip install pyotp==2.9.0
```

### 3. ุฎุทุง ุฏุชุงุจุณ: no such column

**ูุดฺฉู:**
```
sqlite3.OperationalError: no such column: email
```

**ุฑุงูโุญู:**
- โ ุชุงุจุน `migrate_all_tables()` ุณุชููโูุง ุฌุฏุฏ ุฑุง ุงุถุงูู ูโฺฉูุฏ
- โ ุณุฑูุฑ ุฑุง restart ฺฉูุฏ
- โ ุงฺฏุฑ ูุดฺฉู ุงุฏุงูู ุฏุงุดุชุ ูุงู ุฏุชุงุจุณ ุฑุง backup ฺฉูุฏ ู ุฏูุจุงุฑู ุงุฌุงุฏ ฺฉูุฏ

### 4. ุฎุทุง 2FA: columns don't exist

**ูุดฺฉู:**
```
sqlite3.OperationalError: no such column: two_fa_enabled
```

**ุฑุงูโุญู:**
- โ ฺฉุฏ ุจูโุฑูุฒุฑุณุงู ุดุฏู ุงู ูุดฺฉู ุฑุง handle ูโฺฉูุฏ
- โ ุงฺฏุฑ ูููุฒ ูุดฺฉู ุฏุงุฑุฏุ ุณุฑูุฑ ุฑุง restart ฺฉูุฏ

### 5. ุฎุทุง CORS ุง WebSocket

**ูุดฺฉู:**
```
CORS error ุง WebSocket connection failed
```

**ุฑุงูโุญู:**
- โ ูุทูุฆู ุดูุฏ ฺฉู ุณุฑูุฑ ุฑู ูพูุฑุช 3000 ุงุฌุฑุง ูโุดูุฏ
- โ ูุฑูุฑฺฏุฑ ุฑุง refresh ฺฉูุฏ
- โ ฺฉุด ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉูุฏ

## ๐ง ูุฑุงุญู ุนุจโุงุจ

### ูุฑุญูู 1: ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง
```bash
# ุงุฌุฑุง ุชุณุช startup
python test_server_startup.py
```

### ูุฑุญูู 2: ุจุฑุฑุณ ุณุฑูุฑ
```bash
# ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
python server_fastapi.py

# ุจุฑุฑุณ ูุงฺฏโูุง ุจุฑุง ุฎุทุงูุง
```

### ูุฑุญูู 3: ุชุณุช API
```bash
# ุชุณุช endpoint ูุง ุฌุฏุฏ
python test_enhanced_login.py
```

### ูุฑุญูู 4: ุจุฑุฑุณ ุฏุชุงุจุณ
```bash
# ุจุฑุฑุณ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ
sqlite3 smart_camera_system.db ".schema users"
```

## ๐ ฺฺฉโูุณุช ุนุจโุงุจ

### ูุจู ุงุฒ ุฑุงูโุงูุฏุงุฒ:
- [ ] ุชูุงู ูุงุจุณุชฺฏโูุง ูุตุจ ุดุฏูโุงูุฏ
- [ ] ูุงู `requirements.txt` ุจูโุฑูุฒุฑุณุงู ุดุฏู ุงุณุช
- [ ] ูุงู `server_fastapi.py` ุจูโุฑูุฒุฑุณุงู ุดุฏู ุงุณุช
- [ ] ูุงู `templates/login.html` ุจูโุฑูุฒุฑุณุงู ุดุฏู ุงุณุช

### ููฺฏุงู ุฑุงูโุงูุฏุงุฒ:
- [ ] ุณุฑูุฑ ุจุฏูู ุฎุทุง ุดุฑูุน ูโุดูุฏ
- [ ] ูุงฺฏโูุง ูุดุงู ูโุฏููุฏ ฺฉู ุฏุชุงุจุณ initialize ุดุฏู ุงุณุช
- [ ] ุณุชููโูุง ุฌุฏุฏ ุจู ุฌุฏูู users ุงุถุงูู ุดุฏูโุงูุฏ

### ูพุณ ุงุฒ ุฑุงูโุงูุฏุงุฒ:
- [ ] ุตูุญู ูุงฺฏู ูุงุจู ุฏุณุชุฑุณ ุงุณุช
- [ ] ฺฉูพฺุง ููุงุด ุฏุงุฏู ูโุดูุฏ
- [ ] ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ ฺฉุงุฑ ูโฺฉูุฏ
- [ ] ูุฑูุฏ ฺฉุงุฑุจุฑ ฺฉุงุฑ ูโฺฉูุฏ

## ๐๏ธ ุฏุณุชูุฑุงุช ููุฏ

### ูพุงฺฉ ฺฉุฑุฏู ู ูุตุจ ูุฌุฏุฏ:
```bash
# ุญุฐู ูุงูโูุง cache
find . -name "*.pyc" -delete
find . -name "__pycache__" -delete

# ูุตุจ ูุฌุฏุฏ ูุงุจุณุชฺฏโูุง
pip uninstall -r requirements.txt -y
pip install -r requirements.txt
```

### ุจุฑุฑุณ ุฏุชุงุจุณ:
```bash
# ูุดุงูุฏู ุณุงุฎุชุงุฑ ุฌุฏูู users
sqlite3 smart_camera_system.db "PRAGMA table_info(users);"

# ูุดุงูุฏู ฺฉุงุฑุจุฑุงู ููุฌูุฏ
sqlite3 smart_camera_system.db "SELECT username, email, two_fa_enabled FROM users;"
```

### ุจุฑุฑุณ ูุงฺฏโูุง:
```bash
# ูุดุงูุฏู ูุงฺฏโูุง ุงุฎุฑ
tail -f logs/app_$(date +%Y-%m-%d).log

# ุฌุณุชุฌู ุฏุฑ ูุงฺฏโูุง
grep -i "error" logs/app_*.log
```

## ๐ ุฏุฑุฎูุงุณุช ฺฉูฺฉ

ุงฺฏุฑ ูุดฺฉู ุญู ูุดุฏ:

1. **ุงุทูุงุนุงุช ุณุณุชู:**
   - ูุณุฎู Python: `python --version`
   - ูุณุฎู pip: `pip --version`
   - ุณุณุชู ุนุงูู: `uname -a` (Linux) ุง `systeminfo` (Windows)

2. **ูุงฺฏโูุง ฺฉุงูู:**
   - ูุงฺฏโูุง ุณุฑูุฑ
   - ูุงฺฏโูุง ูุฑูุฑฺฏุฑ (F12 โ Console)
   - ูพุงูโูุง ุฎุทุง

3. **ูุฑุงุญู ุงูุฌุงู ุดุฏู:**
   - ุฏุณุชูุฑุงุช ุงุฌุฑุง ุดุฏู
   - ุชุบุฑุงุช ุงุนูุงู ุดุฏู
   - ูุชุฌูโูุง ุชุณุชโูุง

## ๐ ูพุดุชุจุงู

- **GitHub Issues**: ุงุฌุงุฏ issue ุฌุฏุฏ ุจุง ุฌุฒุฆุงุช ฺฉุงูู
- **Email**: admin@example.com
- **Telegram**: @smart_camera_support

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู**: 2024  
**ูุณุฎู**: 2.0.0 